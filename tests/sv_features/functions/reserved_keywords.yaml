feature: functions
description: >
  Tests for SystemVerilog identifiers that are C++ reserved keywords.
  Note: Only testing with C++ keywords that are NOT SystemVerilog keywords.
  E.g., 'new', 'class', 'this' are SV keywords and cannot be used as identifiers.

cases:
  - name: function_named_double
    description: Function named 'double' (C++ keyword, valid SV identifier)
    sv: |
      module Test;
        int result;

        function int double(int x);
          return x * 2;
        endfunction

        initial begin
          result = double(21);
        end
      endmodule
    expect:
      variables:
        result: 42

  - name: parameter_named_typename
    description: Function parameter named 'typename' (C++ keyword)
    sv: |
      module Test;
        int result;

        function int process(int typename);
          return typename + 1;
        endfunction

        initial begin
          result = process(41);
        end
      endmodule
    expect:
      variables:
        result: 42

  - name: local_variable_named_namespace
    description: Local variable named 'namespace' (C++ keyword)
    sv: |
      module Test;
        int result;

        function int compute(int x);
          int namespace;
          namespace = x * 2;
          return namespace;
        endfunction

        initial begin
          result = compute(21);
        end
      endmodule
    expect:
      variables:
        result: 42

  - name: collision_double_and_double_
    description: Test collision handling when both 'double' (keyword) and 'double_' exist
    sv: |
      module Test;
        int double_;
        int result;

        function int double(int x);
          return x * 2;
        endfunction

        initial begin
          double_ = 10;
          result = double(double_);
        end
      endmodule
    expect:
      variables:
        double_: 10
        result: 20
