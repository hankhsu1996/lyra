feature: string_binary_operators
description: Tests for string comparison operators

cases:
  - name: string_equal
    sv: |
      module Test;
        string a, b, c;
        bit r1, r2;
        initial begin
          a = "hello";
          b = "hello";
          c = "world";
          r1 = (a == b);
          r2 = (a == c);
        end
      endmodule
    expect:
      variables:
        r1: 1
        r2: 0

  - name: string_not_equal
    sv: |
      module Test;
        string a, b, c;
        bit r1, r2;
        initial begin
          a = "hello";
          b = "hello";
          c = "world";
          r1 = (a != c);
          r2 = (a != b);
        end
      endmodule
    expect:
      variables:
        r1: 1
        r2: 0

  - name: string_relational
    sv: |
      module Test;
        string a, b, c;
        bit lt, le, gt, ge;
        initial begin
          a = "apple";
          b = "banana";
          c = "apple";
          lt = (a < b);   // "apple" < "banana" (a=97 < b=98)
          le = (a <= c);  // "apple" <= "apple"
          gt = (b > a);   // "banana" > "apple"
          ge = (c >= a);  // "apple" >= "apple"
        end
      endmodule
    expect:
      variables:
        lt: 1
        le: 1
        gt: 1
        ge: 1

  - name: string_prefix_order
    sv: |
      module Test;
        string a, b;
        bit lt;
        initial begin
          a = "a";
          b = "aa";
          lt = (a < b);  // shorter prefix is less
        end
      endmodule
    expect:
      variables:
        lt: 1

  - name: string_empty
    sv: |
      module Test;
        string a, b, c;
        bit eq, lt;
        initial begin
          a = "";
          b = "";
          c = "a";
          eq = (a == b);  // "" == ""
          lt = (a < c);   // "" < "a"
        end
      endmodule
    expect:
      variables:
        eq: 1
        lt: 1

  - name: string_non_prefix
    sv: |
      module Test;
        string a, b;
        bit lt, gt;
        initial begin
          a = "ab";
          b = "ba";
          lt = (a < b);   // "ab" < "ba" (a=97 < b=98)
          gt = (a > b);
        end
      endmodule
    expect:
      variables:
        lt: 1
        gt: 0

  - name: string_ge_le_sanity
    sv: |
      module Test;
        string a, b, c;
        bit ge1, le1, ge2, le2;
        initial begin
          a = "apple";
          b = "apple";
          c = "banana";
          ge1 = (a >= b);  // equal
          le1 = (a <= b);  // equal
          ge2 = (c >= a);  // "banana" >= "apple"
          le2 = (a <= c);  // "apple" <= "banana"
        end
      endmodule
    expect:
      variables:
        ge1: 1
        le1: 1
        ge2: 1
        le2: 1
