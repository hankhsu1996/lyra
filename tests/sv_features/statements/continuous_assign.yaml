feature: statements_continuous_assign
description: Tests continuous assignment statements (assign)

cases:
  - name: basic
    skip_interpreter: true
    skip_codegen: true
    description: Simple continuous assignment
    sv: |
      module Test;
        int a, b;
        assign b = a + 1;
        initial begin
          a = 5;
          #1;
          $display("b=%0d", b);
        end
      endmodule
    expect:
      output: "b=6"

  - name: expression
    skip_interpreter: true
    skip_codegen: true
    description: Complex RHS expression
    sv: |
      module Test;
        int x, y, z;
        assign z = (x * 2) + y;
        initial begin
          x = 3; y = 4;
          #1;
          $display("z=%0d", z);
        end
      endmodule
    expect:
      output: "z=10"

  - name: chained
    skip_interpreter: true
    skip_codegen: true
    description: Chained continuous assignments
    sv: |
      module Test;
        int a, b, c;
        assign b = a;
        assign c = b + 1;
        initial begin
          a = 10;
          #1;
          $display("b=%0d c=%0d", b, c);
        end
      endmodule
    expect:
      output: "b=10 c=11"

  - name: sensitivity_update
    description: Multiple updates propagate correctly
    sv: |
      module Test;
        int a, b;
        assign b = a * 2;
        initial begin
          a = 1; #1;
          $display("b=%0d", b);
          a = 5; #1;
          $display("b=%0d", b);
        end
      endmodule
    expect:
      output: |
        b=2
        b=10

  - name: constant_rhs
    skip_interpreter: true
    skip_codegen: true
    description: Constant RHS (no sensitivity) should not cause infinite loop
    sv: |
      module Test;
        int result;
        assign result = 42;
        initial begin
          #1;
          $display("result=%0d", result);
        end
      endmodule
    expect:
      output: "result=42"
