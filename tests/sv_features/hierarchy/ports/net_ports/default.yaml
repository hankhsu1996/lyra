feature: net_backed_ports
description: Tests for net-backed ports in single-driver mode

cases:
  - name: input_wire_basic
    description: Input port declared as wire
    sv: |
      module Child(input wire en);
        int result;
        initial begin
          #0;  // Wait for port binding to propagate
          result = en;
          $display("result=%0d", result);
        end
      endmodule

      module Test;
        logic en = 1;
        Child c(.en(en));
        initial #1;
      endmodule
    expect:
      stdout: "result=1\n"

  - name: input_wire_logic
    description: Input port declared as wire logic
    sv: |
      module Child(input wire logic [7:0] data);
        int result;
        initial begin
          #0;  // Wait for port binding to propagate
          result = data;
          $display("result=%0d", result);
        end
      endmodule

      module Test;
        logic [7:0] data = 8'd42;
        Child c(.data(data));
        initial #1;
      endmodule
    expect:
      stdout: "result=42\n"

  - name: output_wire_basic
    description: Output port declared as wire
    sv: |
      module Child(output wire result);
        assign result = 1;
      endmodule

      module Test;
        wire out;
        Child c(.result(out));
        int captured;
        initial begin
          #1;
          captured = out;
          $display("captured=%0d", captured);
        end
      endmodule
    expect:
      stdout: "captured=1\n"
