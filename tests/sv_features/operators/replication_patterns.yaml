feature: replication_assignment_patterns
description: Tests for replication assignment patterns '{n{val}}

cases:
  - name: array_replication_basic
    description: Basic array replication pattern
    sv: |
      module Test;
        logic [7:0] arr [4];
        int result;
        initial begin
          arr = '{4{8'd5}};
          result = arr[0] + arr[1] + arr[2] + arr[3];
        end
      endmodule
    expect:
      variables:
        result: 20

  - name: array_replication_zero
    description: Array replication with zero value
    sv: |
      module Test;
        int arr [3];
        int result;
        initial begin
          arr = '{3{0}};
          result = arr[0] + arr[1] + arr[2];
        end
      endmodule
    expect:
      variables:
        result: 0

  - name: array_replication_expression
    description: Array replication with expression
    sv: |
      module Test;
        int base = 10;
        int arr [2];
        int result;
        initial begin
          arr = '{2{base + 5}};
          result = arr[0] + arr[1];
        end
      endmodule
    expect:
      variables:
        result: 30
