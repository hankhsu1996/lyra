feature: variable_declarations
description: Tests for variable declarations and scoping

cases:
  - name: declaration_without_init
    sv: |
      module Test;
        int result;
        initial begin
          int a;
          a = 123;
          result = a;
        end
      endmodule
    expect:
      variables:
        result: 123

  - name: declaration_with_init
    sv: |
      module Test;
        int result;
        initial begin
          int a = 42;
          result = a;
        end
      endmodule
    expect:
      variables:
        result: 42

  - name: multiple_locals_chained
    sv: |
      module Test;
        int final_a, final_b, final_c;
        initial begin
          int a = 1;
          int b = a + 2;
          int c = b + 3;
          final_a = a;
          final_b = b;
          final_c = c;
        end
      endmodule
    expect:
      variables:
        final_a: 1
        final_b: 3
        final_c: 6

  - name: local_scope_isolation
    sv: |
      module Test;
        int x;
        initial begin
          int x = 99;
        end
      endmodule
    expect:
      variables:
        x: 0

  - name: module_var_init_literal
    sv: |
      module Test;
        int x = 42;
        int result;
        initial begin
          result = x;
        end
      endmodule
    expect:
      variables:
        result: 42

  - name: module_var_init_expression
    sv: |
      module Test;
        int a = 10;
        int b = a + 5;
        int result;
        initial begin
          result = b;
        end
      endmodule
    expect:
      variables:
        result: 15

  - name: logic_type_basic
    sv: |
      module Test;
        logic [31:0] a;
        int result;
        initial begin
          a = 42;
          result = a;
        end
      endmodule
    expect:
      variables:
        result: 42

  - name: logic_type_signed
    sv: |
      module Test;
        logic signed [31:0] a;
        int result;
        initial begin
          a = -10;
          result = a;
        end
      endmodule
    expect:
      variables:
        result: -10
