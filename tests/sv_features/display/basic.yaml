feature: display
description: Tests for $display system task output

cases:
  - name: display_string
    sv: |
      module Test;
        initial $display("Hello World");
      endmodule
    expect:
      output: "Hello World\n"

  - name: display_empty
    sv: |
      module Test;
        initial $display();
      endmodule
    expect:
      output: "\n"

  - name: display_integer
    sv: |
      module Test;
        int x;
        initial begin
          x = 42;
          $display("%d", x);
        end
      endmodule
    expect:
      output: "42\n"

  - name: display_multiple_values
    sv: |
      module Test;
        int a, b;
        initial begin
          a = 10;
          b = 20;
          $display("a=%d b=%d", a, b);
        end
      endmodule
    expect:
      output: "a=10 b=20\n"

  - name: display_hex_format
    sv: |
      module Test;
        int x;
        initial begin
          x = 255;
          $display("%h", x);
        end
      endmodule
    expect:
      output: "ff\n"

  - name: display_binary_format
    sv: |
      module Test;
        int x;
        initial begin
          x = 5;
          $display("%b", x);
        end
      endmodule
    expect:
      output: "101\n"

  - name: display_multiple_calls
    sv: |
      module Test;
        initial begin
          $display("line 1");
          $display("line 2");
        end
      endmodule
    expect:
      output: |
        line 1
        line 2

  - name: display_no_format_string
    sv: |
      module Test;
        int x;
        initial begin
          x = 99;
          $display(x);
        end
      endmodule
    expect:
      output: "99\n"

  - name: display_contains_check
    sv: |
      module Test;
        initial begin
          $display("prefix data suffix");
          $display("more output");
        end
      endmodule
    expect:
      output:
        contains:
          - "data"
          - "more"

  - name: display_real_default_precision
    sv: |
      module Test;
        real x;
        initial begin
          x = 1.5;
          $display("%f", x);
        end
      endmodule
    expect:
      output: "1.500000\n"

  - name: display_real_with_precision
    sv: |
      module Test;
        real x;
        initial begin
          x = 3.14159;
          $display("%.3f", x);
        end
      endmodule
    expect:
      output: "3.142\n"

  - name: display_integer_width
    sv: |
      module Test;
        int x;
        initial begin
          x = 42;
          $display("%5d", x);
        end
      endmodule
    expect:
      output: "   42\n"

  - name: display_integer_zero_pad
    sv: |
      module Test;
        int x;
        initial begin
          x = 42;
          $display("%05d", x);
        end
      endmodule
    expect:
      output: "00042\n"

  - name: display_hex_zero_pad
    sv: |
      module Test;
        int x;
        initial begin
          x = 255;
          $display("%04h", x);
        end
      endmodule
    expect:
      output: "00ff\n"

  - name: display_binary_zero_pad
    sv: |
      module Test;
        int x;
        initial begin
          x = 5;
          $display("%08b", x);
        end
      endmodule
    expect:
      output: "00000101\n"
