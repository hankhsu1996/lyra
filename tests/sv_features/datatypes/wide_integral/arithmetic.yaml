feature: wide_integral_arithmetic
description: Arithmetic operations on integrals wider than 64 bits

cases:
  - name: wide_65_basic
    sv: |
      module Test;
        bit [64:0] a;
        initial begin
          a = 65'd123456789;
        end
      endmodule
    expect:
      variables:
        a: 0x75bcd15

  - name: wide_65_add_no_overflow
    sv: |
      module Test;
        bit [64:0] a, b, c;
        initial begin
          a = 65'd100;
          b = 65'd200;
          c = a + b;
        end
      endmodule
    expect:
      variables:
        c: 0x12c

  - name: wide_96_basic
    sv: |
      module Test;
        bit [95:0] a;
        initial begin
          a = 96'd9876543210;
        end
      endmodule
    expect:
      variables:
        a: 0x24cb016ea

  - name: wide_128_add
    sv: |
      module Test;
        bit [127:0] a, b, c;
        initial begin
          a = 128'd1000000000000;
          b = 128'd2000000000000;
          c = a + b;
        end
      endmodule
    expect:
      variables:
        c: 0x2ba7def3000

  - name: wide_128_subtract
    sv: |
      module Test;
        bit [127:0] a, b, c;
        initial begin
          a = 128'd5000000000000;
          b = 128'd2000000000000;
          c = a - b;
        end
      endmodule
    expect:
      variables:
        c: 0x2ba7def3000

  - name: wide_128_multiply_max
    sv: |
      module Test;
        bit [127:0] a, b, result;
        initial begin
          // (2^64 - 1) * (2^64 - 1) = 2^128 - 2^65 + 1
          // = 0xFFFFFFFFFFFFFFFE_0000000000000001
          a = 128'hFFFFFFFFFFFFFFFF;
          b = 128'hFFFFFFFFFFFFFFFF;
          result = a * b;
        end
      endmodule
    expect:
      variables:
        result: 0xfffffffffffffffe0000000000000001

  - name: wide_128_signed_basic
    sv: |
      module Test;
        bit signed [127:0] a;
        initial begin
          a = 128'd12345;
        end
      endmodule
    expect:
      variables:
        a: 0x3039

  - name: wide_200_basic
    sv: |
      module Test;
        bit [199:0] a;
        initial begin
          a = 200'd42;
        end
      endmodule
    expect:
      variables:
        a: 0x2a
