feature: assignment_pattern_fill_four_state
description: >
  Assignment pattern fill tests requiring 4-state (X/Z) values.
  Excluded from --two-state suite.

cases:
  - name: unbased_unsized_x
    sv: |
      module Test;
        initial begin
          logic [3:0] x = '{default: 'x};
          $display("%b", x);
        end
      endmodule
    expect:
      stdout: "xxxx\n"

  - name: unbased_unsized_z
    sv: |
      module Test;
        initial begin
          logic [3:0] x = '{default: 'z};
          $display("%b", x);
        end
      endmodule
    expect:
      stdout: "zzzz\n"

  - name: packed_array_fill_x
    description: "Element fill with X value (exercises unknown plane)"
    sv: |
      module Test;
        initial begin
          logic [3:0][7:0] arr = '{default: 8'hxx};
          $display("%h %h", arr[0], arr[3]);
        end
      endmodule
    expect:
      stdout: "xx xx\n"

  - name: packed_array_fill_z
    description: "Element fill with Z value (exercises unknown plane)"
    sv: |
      module Test;
        initial begin
          logic [3:0][7:0] arr = '{default: 8'bzzzz_zzzz};
          $display("%h %h", arr[0], arr[3]);
        end
      endmodule
    expect:
      stdout: "zz zz\n"

  - name: large_packed_array_fill_x
    description: "Large array with X fill (runtime path + unknown plane)"
    sv: |
      module Test;
        initial begin
          logic [63:0][7:0] arr = '{default: 8'hxx};
          $display("%h %h %h", arr[0], arr[31], arr[63]);
        end
      endmodule
    expect:
      stdout: "xx xx xx\n"

  - name: large_packed_array_fill_z
    description: "Large array with Z fill (runtime path + unknown plane)"
    sv: |
      module Test;
        initial begin
          logic [63:0][7:0] arr = '{default: 8'bzzzz_zzzz};
          $display("%h %h %h", arr[0], arr[31], arr[63]);
        end
      endmodule
    expect:
      stdout: "zz zz zz\n"

  - name: multiword_element_fill_4state
    description: "128-bit elements with X value (runtime path + unknown plane)"
    sv: |
      module Test;
        initial begin
          logic [63:0][127:0] arr = '{default: 128'hxxxxxxxx_xxxxxxxx_xxxxxxxx_xxxxxxxx};
          $display("%h", arr[0][63:0]);
          $display("%h", arr[0][127:64]);
          $display("%h", arr[63][63:0]);
          $display("%h", arr[63][127:64]);
        end
      endmodule
    expect:
      stdout: |
        xxxxxxxxxxxxxxxx
        xxxxxxxxxxxxxxxx
        xxxxxxxxxxxxxxxx
        xxxxxxxxxxxxxxxx

  - name: large_packed_array_fill_4state
    description: "Large 4-state array fill via runtime path"
    sv: |
      module Test;
        initial begin
          logic [63:0][7:0] arr = '{default: 8'hCD};
          $display("%h %h", arr[0], arr[63]);
        end
      endmodule
    expect:
      stdout: "cd cd\n"
